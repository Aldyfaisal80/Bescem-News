<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <!-- CSS -->
  <style>
    body {
      margin: 40px 0;
      font-family: "Raleway";
      font-size: 14px;
      font-weight: 500;
      background-color: #bcaaa4;
      -webkit-font-smoothing: antialiased;
    }

    .title {
      font-family: "Raleway";
      font-size: 24px;
      font-weight: 700;
      color: #5d4037;
      text-align: center;
    }

    p {
      line-height: 1.5em;
    }

    h1 + p,
    p + p {
      margin-top: 10px;
    }

    .container {
      padding: 40px 80px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .card-wrap {
      margin: 10px;
      transform: perspective(800px);
      transform-style: preserve-3d;
      cursor: pointer;
    }
    .card-wrap:hover .card-info {
      transform: translateY(0);
    }
    .card-wrap:hover .card-info p {
      opacity: 1;
    }
    .card-wrap:hover .card-info,
    .card-wrap:hover .card-info p {
      transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .card-wrap:hover .card-info:after {
      transition: 5s cubic-bezier(0.23, 1, 0.32, 1);
      opacity: 1;
      transform: translateY(0);
    }
    .card-wrap:hover .card-bg {
      transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1),
        opacity 5s cubic-bezier(0.23, 1, 0.32, 1);
      opacity: 0.8;
    }
    .card-wrap:hover .card {
      transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1),
        box-shadow 2s cubic-bezier(0.23, 1, 0.32, 1);
      box-shadow: rgba(255, 255, 255, 0.2) 0 0 40px 5px, white 0 0 0 1px,
        rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,
        inset white 0 0 0 6px;
    }

    .card {
      position: relative;
      flex: 0 0 240px;
      width: 240px;
      height: 320px;
      background-color: #333;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,
        inset rgba(255, 255, 255, 0.5) 0 0 0 6px;
      transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
    }

    .card-bg {
      opacity: 0.5;
      position: absolute;
      top: -20px;
      left: -20px;
      width: 100%;
      height: 100%;
      padding: 20px;
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95),
        opacity 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
      pointer-events: none;
    }

    .card-info {
      padding: 20px;
      position: absolute;
      bottom: 0;
      color: #fff;
      transform: translateY(40%);
      transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    .card-info p {
      opacity: 0;
      text-shadow: black 0 2px 3px;
      transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    .card-info * {
      position: relative;
      z-index: 1;
    }
    .card-info:after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
      background-image: linear-gradient(
        to bottom,
        transparent 0%,
        rgba(0, 0, 0, 0.6) 100%
      );
      background-blend-mode: overlay;
      opacity: 0;
      transform: translateY(100%);
      transition: 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
    }

    .card-info h1 {
      font-family: "Playfair Display";
      font-size: 36px;
      font-weight: 700;
      text-shadow: rgba(0, 0, 0, 0.5) 0 10px 10px;
    }
  </style>

  <body>
    <h1 class="title">Hover over the cards</h1>

    <div id="app" class="container">
      <div
        class="card-wrap"
        @mousemove="handleMouseMove"
        @mouseenter="handleMouseEnter"
        @mouseleave="handleMouseLeave"
        ref="card"
      >
        <div class="card" :style="cardStyle">
          <div
            class="card-bg"
            :style="[cardBgTransform, cardBgImage]"
            style="
              background-image: url(https://source.unsplash.com/1200x350?alam);
            "
          ></div>
          <div class="card-info">
            <h1 name="header">ERWAN</h1>
            <p name="content">
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Doloribus, ab.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Mendapatkan elemen kartu
      const card = document.querySelector(".card-wrap");

      // Menghitung lebar dan tinggi kartu
      let cardWidth = card.offsetWidth;
      let cardHeight = card.offsetHeight;

      // Inisialisasi variabel untuk posisi mouse
      let mouseX = 0;
      let mouseY = 0;

      // Mendapatkan perbedaan antara posisi mouse dan titik tengah kartu
      function handleMouseMove(event) {
        mouseX = event.pageX - card.offsetLeft - cardWidth / 2;
        mouseY = event.pageY - card.offsetTop - cardHeight / 2;
      }

      // Mengatur rotasi kartu berdasarkan posisi mouse
      function handleMouseMove(event) {
        const cardRect = card.getBoundingClientRect();
        const centerX = cardRect.left + cardRect.width / 2;
        const centerY = cardRect.top + cardRect.height / 2;

        const mouseX = event.clientX - centerX;
        const mouseY = centerY - event.clientY;

        const maxRotation = 10;
        const rotationX = (mouseY / centerY) * maxRotation;
        const rotationY = (mouseX / centerX) * maxRotation;

        card.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
      }

      // Mengikat event mousemove ke elemen kartu
      card.addEventListener("mousemove", handleMouseMove);

      // Mengatur interval untuk memperbarui rotasi kartu secara terus-menerus
      let isInteracting = false;
      let animationFrameId;

      function startAnimation() {
        if (!isInteracting) {
          isInteracting = true;
          animationFrameId = requestAnimationFrame(updateAnimation);
        }
      }

      function stopAnimation() {
        isInteracting = false;
        cancelAnimationFrame(animationFrameId);
      }

      function updateAnimation() {
        rotateCard();
        if (Math.abs(mouseX) > 1 || Math.abs(mouseY) > 1) {
          startAnimation();
        } else {
          stopAnimation();
        }
      }

      startAnimation();
    </script>
  </body>
</html>
